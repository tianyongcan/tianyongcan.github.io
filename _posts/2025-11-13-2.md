---
title: 深度学习环境配置
date: 2025-11-13 18:17:00 +0800
---
# conda中的虚拟环境创建

虚拟环境创建

```
conda create -n envname python=   
```

激活环境

```
conda activate your_env_name
```

退出环境

```
conda deactivate
```

删除conda环境

```
conda remove -n your_env_name --all
```

克隆环境

```
conda create --name new_env_name --clone old_env_name
```

# conda中虚拟环境选择

首先根据显卡确定算力，根据算力选择兼容的CUDA版本

[CUDA - Wikipedia](https://en.wikipedia.org/wiki/CUDA)

查看显卡状态

nvidia-smi

查看当前cuda版本

`nvcc --version`

根据CUDA和实际情况选择pytorch版本

[https://pytorch.org/get-started/previous-versions/](https://pytorch.org/get-started/previous-versions/)

根据torch版本确定python版本

|`torch`|`torchvision`|Python|
|---|---|---|
|`main` / `nightly`|`main` / `nightly`|`>=3.9`, `<=3.12`|
|`2.5`|`0.20`|`>=3.9`, `<=3.12`|
|`2.4`|`0.19`|`>=3.8`, `<=3.12`|
|`2.3`|`0.18`|`>=3.8`, `<=3.12`|
|`2.2`|`0.17`|`>=3.8`, `<=3.11`|
|`2.1`|`0.16`|`>=3.8`, `<=3.11`|
|`2.0`|`0.15`|`>=3.8`, `<=3.11`|

|`torch`|`torchvision`|Python|
|---|---|---|
|`1.13`|`0.14`|`>=3.7.2`, `<=3.10`|
|`1.12`|`0.13`|`>=3.7`, `<=3.10`|
|`1.11`|`0.12`|`>=3.7`, `<=3.10`|
|`1.10`|`0.11`|`>=3.6`, `<=3.9`|
|`1.9`|`0.10`|`>=3.6`, `<=3.9`|
|`1.8`|`0.9`|`>=3.6`, `<=3.9`|
|`1.7`|`0.8`|`>=3.6`, `<=3.9`|
|`1.6`|`0.7`|`>=3.6`, `<=3.8`|
|`1.5`|`0.6`|`>=3.5`, `<=3.8`|
|`1.4`|`0.5`|`==2.7`, `>=3.5`, `<=3.8`|
|`1.3`|`0.4.2` / `0.4.3`|`==2.7`, `>=3.5`, `<=3.7`|
|`1.2`|`0.4.1`|`==2.7`, `>=3.5`, `<=3.7`|
|`1.1`|`0.3`|`==2.7`, `>=3.5`, `<=3.7`|
|`<=1.0`|`0.2`|`==2.7`, `>=3.5`, `<=3.7`|

再根据确定的环境版本创建虚拟环境

# CUDA版本切换

1系统变量中的lib和include上移

2再双击 CUDA_PATH，修改

# 服务器ssh配置

[AutoDL帮助文档](https://autodl.com/docs/pycharm/)

需要cd到当前项目路径之下

screen用法

[SSH远程控制（2）——屏幕远程终端会话管理共享screen_ssh2 screen-CSDN博客](https://blog.csdn.net/Lucifer_zzq/article/details/80412253?ops_request_misc=&request_id=&biz_id=102&utm_term=ssh%20%E6%8C%82%E5%B1%8F%E5%B9%95&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-80412253.142%5Ev102%5Epc_search_result_base2&spm=1018.2226.3001.4187)

## 服务器切换CUDA版本

查看当前已有CUDA版本

`ls -l /usr/local/ | grep cuda`

修改配置文件

`nano ~/.bashrc`

添加配置

```
# ===================================================
#   MY CUSTOM CUDA ENVIRONMENT
# ===================================================
# 1. 注释掉或删除任何可能存在的旧 CUDA 路径设置，避免冲突
# export PATH=/usr/local/cuda-11.8/bin:$PATH
# export LD_LIBRARY_PATH=/usr/local/cuda-11.8/lib64:$LD_LIBRARY_PATH

# 2. 添加您想使用的 CUDA 版本的路径 (例如 12.1)
export PATH=/usr/local/cuda-12.1/bin:$PATH
export LD_LIBRARY_PATH=/usr/local/cuda-12.1/lib64:$LD_LIBRARY_PATH
```

**保存并退出 `nano`：**

- 按 `Ctrl + X`
    
- 编辑器会问您是否要保存，按 `Y`
    
- 最后按 `Enter` 确认文件名。
    

运行文件生效

```
source ~/.bashrc
```

# 切换cuda版本

查看可用版本

```
ls -l /usr/local/ | grep cuda
```

```
export PATH=/usr/local/cuda-11.8/bin:$PATH
export LD_LIBRARY_PATH=/usr/local/cuda-11.8/lib64:$LD_LIBRARY_PATH
```